{"version":3,"sources":["../src/js/script.js"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["// URLs\r\nconst baseURL = 'https://pokeapi.co/api/v2/';\r\nconst pokemonURL = identifier => `${baseURL}pokemon/${identifier}/`;\r\nconst pokedexEntry = identifier => `${baseURL}pokemon-species/${identifier}/`;\r\nconst typeDesc = identifier => `${baseURL}type/${identifier}/`;\r\n\r\n// PRINCIPAL\r\nconst getData = (param, toGet) => {\r\n    switch (toGet) {\r\n        case 'pokemon':\r\n            param = pokemonURL(param);\r\n            break;\r\n        case 'pokedex':\r\n            param = pokedexEntry(param);\r\n            break;\r\n        case 'type':\r\n            param = typeDesc(param);\r\n            break;\r\n        default:\r\n            return Promise.reject(\"Invalid request.\");\r\n            break;\r\n    }\r\n    let cacheKey = param\r\n    let cached = getFromCache(cacheKey)\r\n    if (cached) {\r\n        return Promise.resolve(cached)\r\n    }\r\n    return fetch(param).then(response => {\r\n        if (response.ok && response.status == 200) {\r\n            const contentType = response.headers.get('Content-Type') || '';\r\n            if (contentType.includes('application/json')) {\r\n                response.clone().text().then(content => {\r\n                    try {\r\n                        localStorage.setItem(cacheKey, content);\r\n                    } catch(e) {\r\n                        display(\"cache has been cleaned\");\r\n                        localStorage.clear();\r\n                        localStorage.setItem(cacheKey, content);\r\n                    }\r\n                })\r\n                return response.json().catch(error => {\r\n                    return Promise.reject('Invalid JSON: ' + error.message);\r\n                });\r\n            } else {\r\n                return Promise.reject('Invalid content type: ' + contentType)\r\n            }\r\n        } else if (response.status == 400) {\r\n            return Promise.reject('Page not found: ' + url);\r\n        } else {\r\n            return Promise.reject('HTTP error: ' + response.status);\r\n        }\r\n    }).catch(error => {\r\n        return Promise.reject('Connection error: ' + error.message);\r\n    });\r\n}\r\n\r\nconst drawPokemon = pokemonData => {\r\n    let promise = new Promise( (resolve, reject) => {\r\n\r\n        const {\r\n            species: { name: name },\r\n            id,\r\n            sprites: { front_default: image },\r\n            types,\r\n            stats,\r\n            abilities,\r\n            height,\r\n            weight\r\n        } = pokemonData;\r\n\r\n        getData(name, 'pokedex')\r\n            .then(entry => {\r\n\r\n                const {\r\n                    habitat,\r\n                    egg_groups,\r\n                    flavor_text_entries,\r\n                } = entry;\r\n\r\n                let get_habitat = habitat == null ? 'none' : habitat.name;\r\n\r\n                let flavorText = false;\r\n                flavor_text_entries.map( index => {\r\n                    if (index.language.name == \"en\" && flavorText == false) {\r\n                        flavorText = index.flavor_text;\r\n                    }\r\n                });\r\n\r\n                const results = idSelector('results');\r\n                results.innerHTML = `\r\n                    <div class=\"row\">\r\n                        <div class=\"col-xs-12 col-sm-8\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4\">\r\n                                    <img class=\"img-responsive center-block\" src=\"${image}\" />\r\n                                </div>\r\n                                <div class=\"col-xs-8\">\r\n                                    <p><b>NÂ° ${id} - ${capitalizeFirst(name)}</b></p>\r\n                                    <p><b>Type:</b><br> ${types.reverse().map( value => {\r\n                                        return capitalizeFirst(value.type.name);\r\n                                    }).toLocaleString().replace(',',' - ')}</p>\r\n                                    <p><b>Abilities:</b><br> ${abilities.reverse().map( value => {\r\n                                        return (value.is_hidden ? ` (HA) ` : '') + capitalizeFirst(value.ability.name);\r\n                                    }).toLocaleString().replace(',',' - ')}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-6\">\r\n                                    <p><b>Weight:</b><br> ${decimalFormat(weight)} kg</p>\r\n                                </div>\r\n                                <div class=\"col-xs-6\">\r\n                                    <p><b>Height:</b><br> ${decimalFormat(height)} m</p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-6\">\r\n                                    <p><b>Egg groups:</b><br> ${egg_groups.reverse().map( value => {\r\n                                        return lastIsNumber(capitalizeFirst(value.name));\r\n                                    }).toLocaleString().replace(',',' - ')}</p>\r\n                                </div>\r\n                                <div class=\"col-xs-6\">\r\n                                    <p><b>Habitat:</b><br> ${capitalizeFirst(get_habitat)}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-12\">\r\n                                    <p>${flavorText}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-4 hidden-xs\">\r\n                            ${stats.reverse().map( value => {\r\n\r\n                                return `\r\n                                    <span class=\"tiny\">${value.stat.name.toUpperCase()} </span>\r\n                                    <div class=\"progress\">\r\n                                        <div class=\"progress-bar progress-bar-success\" role=\"progressbar\" aria-valuenow=\"80\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: ${roundStat(value.base_stat)}%\">\r\n                                            ${value.base_stat}\r\n                                        </div>\r\n                                    </div>`\r\n\r\n                            }).toLocaleString().replace(/(,)/g,'')}\r\n                        </div>\r\n                    </div>\r\n                `;\r\n                $('#main-results').modal('show');\r\n                resolve(true);\r\n            }).catch(error => {\r\n                reject(`${error} on \"${name} - Pokedex\"`)\r\n            })\r\n    })\r\n\r\n    return promise;\r\n}\r\n\r\n// EVENTS\r\nidSelector(\"main-form\").addEventListener(\"submit\", (event) => {\r\n    event.preventDefault();\r\n    let toSearch = idSelector(\"search-pkmn\");\r\n    let mainForm = toSearch.parentElement.children;\r\n    let value = toSearch.value.toLowerCase();\r\n    if (value == 'deoxys') {\r\n        value = \"deoxys-normal\";\r\n    }\r\n    if (value == 'giratina') {\r\n        value = \"giratina-altered\";\r\n    }\r\n    if (value.length > 0) {\r\n        toSearch.style.background = '#FFF';\r\n        toggleSearchState(mainForm);\r\n        let lateAnswer = idSelector(\"late-answer\");\r\n        removeClass(lateAnswer, 'pending');\r\n\r\n        setTimeout( () => {\r\n            if (!lateAnswer.classList.contains('pending')) {\r\n                removeClass(lateAnswer, 'hidden');\r\n            }\r\n        }, 5000);\r\n\r\n        getData(value, 'pokemon').then( data => {\r\n\r\n            drawPokemon(data).then( () => {\r\n\r\n                toggleSearchState(mainForm);\r\n                addClass(lateAnswer, 'pending');\r\n                addClass(lateAnswer, 'hidden');\r\n\r\n            }).catch( error => {\r\n                toggleSearchState(mainForm);\r\n                display(error);\r\n                alert(\"Something weird happened. Try again!\");\r\n            });\r\n\r\n        }).catch( error => {\r\n            toggleSearchState(mainForm);\r\n            addClass(lateAnswer, 'pending');\r\n            addClass(lateAnswer, 'hidden');\r\n            // alert(`${error} on \"${value} - Pokemon\"`);\r\n            display(error);\r\n            alert(`\"${value}\" does not exist. Try again!`);\r\n        })\r\n\r\n    } else {\r\n        toSearch.style.background = '#FFFFCC';\r\n        toSearch.focus();\r\n    }\r\n});\r\n\r\nidSelector(\"birth-form\").addEventListener(\"submit\", (event) => {\r\n    event.preventDefault();\r\n\r\n    let birth = idSelector(\"birth-pkmn\").value;\r\n    let birthFirst = idSelector(\"birth-first\").value;\r\n    let birthLast = idSelector(\"birth-last\").value;\r\n    let birthSearchButton = idSelector(\"search-birth-pkmn\");\r\n    let birthForm = birthSearchButton.parentElement.children;\r\n\r\n    if (isDate(birth)) {\r\n        birth = addBirth(birth);\r\n        let firstMultiplier = calculateMultiplier(birthFirst);\r\n        let secondMultiplier = calculateMultiplier(birthLast);\r\n        let multiplier = firstMultiplier + secondMultiplier;\r\n\r\n        let result = (birth * multiplier).toFixed(0);\r\n\r\n        if (result != 0) {\r\n\r\n            let lateAnswer2 = idSelector(\"late-answer2\");\r\n            removeClass(lateAnswer2, 'pending');\r\n\r\n            setTimeout( () => {\r\n                if (!lateAnswer2.classList.contains('pending')) {\r\n                    removeClass(lateAnswer2, 'hidden');\r\n                }\r\n            }, 5000);\r\n\r\n            toggleSearchState(birthForm);\r\n\r\n            getData(result, 'pokemon').then( data => {\r\n\r\n                drawPokemon(data).then( () => {\r\n\r\n                    toggleSearchState(birthForm);\r\n                    addClass(lateAnswer2, 'pending');\r\n                    addClass(lateAnswer2, 'hidden');\r\n\r\n                }).catch( error => {\r\n                    toggleSearchState(birthForm);\r\n                    alert(error)\r\n                });\r\n\r\n            }).catch( error => {\r\n                toggleSearchState(birthForm);\r\n                addClass(lateAnswer2, 'pending');\r\n                addClass(lateAnswer2, 'hidden');\r\n                display(`${error} on \"${value} - Pokemon\"`);\r\n                alert(\"Something weird happened. Try again!\");\r\n            })\r\n\r\n        } else {\r\n            alert(\"i think you are a digimon\");\r\n        }\r\n    } else {\r\n        alert(\"Error. Invalid date.\")\r\n    }\r\n})\r\n\r\nlet scrollLinks = document.querySelectorAll(\".smooth\");\r\nObject.values(scrollLinks).forEach( (value, i) => {\r\n    value.addEventListener(\"click\", event => {\r\n        scrollIt(\r\n            document.querySelector('.dest-smooth' + (i+1)),\r\n            600\r\n        );\r\n    })\r\n})\r\n\r\n\r\n// FUNCTIONS\r\nfunction idSelector(id) {\r\n    return document.querySelector(`#${id}`);\r\n}\r\n\r\nfunction toggleSearchState(object){\r\n    var button;\r\n    Object.values(object).map( index => {\r\n        if (index.localName == \"button\") {\r\n            button = index;\r\n        }\r\n    });\r\n\r\n    if (button.disabled) {\r\n        Object.values(object).map( index => {\r\n            index.disabled = false;\r\n            if (index.localName == \"input\" || index.localName == \"textarea\") {\r\n                index.value = '';\r\n            }\r\n            if (index.localName == 'select'){\r\n                index.selectedIndex = 0;\r\n            }\r\n        })\r\n        addClass(button.querySelector('#loading'), 'hidden');\r\n        removeClass(button.querySelector('#go'), 'hidden');\r\n        button.disabled = false;\r\n    } else {\r\n        Object.values(object).map( index => {\r\n            index.disabled = true;\r\n        })\r\n        addClass(button.querySelector('#go'), 'hidden');\r\n        removeClass(button.querySelector('#loading'), 'hidden')\r\n        button.disabled = true;\r\n    }\r\n}\r\n\r\nfunction addClass(param, css){\r\n    if (!param.classList.contains(css)) {\r\n        param.classList.add(css)\r\n    }\r\n}\r\n\r\nfunction removeClass(param, css){\r\n    if (param.classList.contains(css)) {\r\n        param.classList.remove(css)\r\n    }\r\n}\r\n\r\nfunction roundStat(num){\r\n    return Math.ceil((num * 100) / 190);\r\n}\r\n\r\nfunction capitalizeFirst(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nfunction lastIsNumber(string){\r\n    return isNaN(string.slice(-1)) ? string : string.slice(0, string.length-1) + ' ' + string.slice(-1)\r\n}\r\n\r\nfunction decimalFormat(num) {\r\n    num = num.toString();\r\n    return num.length == 1 ?  \"0.\" + num : num.substring(0, num.length-1) + \".\" + num.substr(-1);\r\n}\r\n\r\nfunction todayIs(){\r\n    let date = new Date();\r\n    var day = ('0' + date.getDate()).slice(-2),\r\n        month = ('0' + (date.getMonth() + 1)).slice(-2),\r\n        year = date.getFullYear().toString();\r\n    return `${year}-${month}-${day}`;\r\n}\r\n\r\nfunction isDate(param){\r\n    return param.match(/^(\\d{4})+(-)+(\\d{2})+(-)+(\\d{2})$/g);\r\n}\r\n\r\nfunction addBirth(date){\r\n    date = new Date(date);\r\n    date.setDate(date.getDate() + 1);\r\n    var day = ('0' + date.getDate()).slice(-2),\r\n        month = ('0' + (date.getMonth() + 1)).slice(-2),\r\n        year = date.getYear().toString().slice(-2);\r\n    return parseInt(day) + parseInt(month) + parseInt(year);\r\n}\r\n\r\nfunction calculateMultiplier(num){\r\n    num = num.toString();\r\n    return num.length > 1 ? parseFloat(num.charAt(0) + '.' + num.charAt(1)) : parseFloat('0' + '.' + num.charAt(0))\r\n}\r\n\r\nfunction getFromCache(id) {\r\n    return localStorage.getItem(id) ? JSON.parse(localStorage.getItem(id)) : false;\r\n}\r\n\r\nfunction alphabet(selector){\r\n    for(var i=0; i<26; i++) {\r\n        let letter = (i+10).toString(36);\r\n        let option = document.createElement(\"option\");\r\n        option.appendChild(document.createTextNode(letter.toUpperCase()));\r\n        option.value = i+1;\r\n        selector.appendChild(option);\r\n    }\r\n}\r\n\r\nfunction display(param){\r\n    console.log(param);\r\n}\r\n\r\nfunction scrollIt(destination, duration = 200) {\r\n\r\n    const start = window.pageYOffset;\r\n    const startTime = 'now' in window.performance ? performance.now() : new Date().getTime();\r\n\r\n    const documentHeight = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight);\r\n    const windowHeight = window.innerHeight || document.documentElement.clientHeight || document.getElementsByTagName('body')[0].clientHeight;\r\n    const destinationOffset = typeof destination === 'number' ? destination : destination.offsetTop;\r\n    const destinationOffsetToScroll = Math.round(documentHeight - destinationOffset < windowHeight ? documentHeight - windowHeight : destinationOffset);\r\n\r\n    if ('requestAnimationFrame' in window === false) {\r\n        window.scroll(0, destinationOffsetToScroll);\r\n        return;\r\n    }\r\n\r\n    function scroll() {\r\n        const now = 'now' in window.performance ? performance.now() : new Date().getTime();\r\n        const time = Math.min(1, ((now - startTime) / duration));\r\n        const timeFunction = time * (2 - time);\r\n        window.scroll(0, Math.ceil((timeFunction * (destinationOffsetToScroll - start)) + start));\r\n\r\n        if (window.pageYOffset === destinationOffsetToScroll) {\r\n            return;\r\n        }\r\n\r\n        requestAnimationFrame(scroll);\r\n    }\r\n\r\n    scroll();\r\n}\r\n\r\n// INITIALIZING\r\n$('.carousel').carousel({\r\n    interval: false\r\n});\r\n\r\nidSelector(\"birth-pkmn\").max = todayIs();\r\nalphabet(idSelector(\"birth-first\"));\r\nalphabet(idSelector(\"birth-last\"));"]}