{"version":3,"sources":["../src/js/script.js"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["const baseURL = 'https://pokeapi.co/api/v2/';\r\nconst pokemonURL = identifier => `${baseURL}pokemon/${identifier}/`;\r\n\r\nconst getData = (param, toGet) => {\r\n    switch (toGet) {\r\n        case 'pokemon':\r\n            param = pokemonURL(param);\r\n            break;\r\n        default:\r\n            // statements_def\r\n            break;\r\n    }\r\n    let cacheKey = param\r\n    let cached = getFromCache(cacheKey)\r\n    if (cached) {\r\n        return Promise.resolve(cached)\r\n    }\r\n    return fetch(param).then(response => {\r\n        if (response.ok && response.status == 200) {\r\n            const contentType = response.headers.get('Content-Type') || '';\r\n            if (contentType.includes('application/json')) {\r\n                response.clone().text().then(content => {\r\n                    localStorage.setItem(cacheKey, content)\r\n                })\r\n                return response.json().catch(error => {\r\n                    return Promise.reject('Invalid JSON: ' + error.message);\r\n                });\r\n            } else {\r\n                return Promise.reject('Invalid content type: ' + contentType)\r\n            }\r\n        } else if (response.status == 400) {\r\n            return Promise.reject('Page not found: ' + url);\r\n        } else {\r\n            return Promise.reject('HTTP error: ' + response.status);\r\n        }\r\n    }).catch(error => {\r\n        return Promise.reject(error.message);\r\n    });\r\n}\r\n\r\nconst drawPokemon = pokemonData => {\r\n    const {\r\n        name,\r\n        id,\r\n        sprites: { front_default: image },\r\n        types\r\n    } = pokemonData;\r\n\r\n    const results = idSelector('results');\r\n    results.innerHTML = `\r\n      <p>NÂ° ${id}</p>\r\n      <p>${name}</p>\r\n      <p>${types.map( (index) => {\r\n        return index.type.name;\r\n      }).toLocaleString().replace(',',' - ')}</p>\r\n      <img src=\"${image}\" />\r\n  `;\r\n};\r\n\r\nidSelector(\"main-form\").addEventListener(\"submit\", (event) => {\r\n    event.preventDefault();\r\n    let toSearch = idSelector(\"search-pkmn\");\r\n    let value = toSearch.value.toLowerCase();\r\n    if (value.length > 0) {\r\n        toSearch.style.background = '#FFF';\r\n        toggleSearchState(toSearch);\r\n        getData(value, 'pokemon')\r\n            .then(data => {\r\n                toggleSearchState(toSearch);\r\n                drawPokemon(data);\r\n                $('#resultsmodal').modal('show');\r\n            })\r\n    } else {\r\n        toSearch.style.background = '#FFFFCC';\r\n        toSearch.focus();\r\n    }\r\n});\r\n\r\nfunction idSelector(id) {\r\n    return document.querySelector(`#${id}`);\r\n}\r\n\r\nfunction toggleSearchState(param){\r\n    let button = param.nextElementSibling;\r\n    if (param.disabled) {\r\n        button.querySelector('#loading').classList.add('hidden');\r\n        button.querySelector('#go').classList.remove('hidden');\r\n        param.disabled = false;\r\n        button.disabled = false;\r\n        param.value = '';\r\n    } else {\r\n        button.querySelector('#go').classList.add('hidden');\r\n        button.querySelector('#loading').classList.remove('hidden');\r\n        param.disabled = true;\r\n        button.disabled = true;\r\n    }\r\n}\r\n\r\n// SIN USO\r\nfunction setInCache(id, data) {\r\n    localStorage.setItem(id, JSON.stringify(data));\r\n}\r\n\r\nfunction getFromCache(id) {\r\n    return localStorage.getItem(id) ? JSON.parse(localStorage.getItem(id)) : false;\r\n}\r\n\r\nfunction display(param){\r\n    console.log(param);\r\n}"]}