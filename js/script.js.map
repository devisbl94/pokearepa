{"version":3,"sources":["../src/js/script.js"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["const baseURL = 'https://pokeapi.co/api/v2/';\r\nconst pokemonURL = identifier => `${baseURL}pokemon/${identifier}/`;\r\nconst pokedexEntry = identifier => `${baseURL}pokemon-species/${identifier}/`;\r\nconst typeDesc = identifier => `${baseURL}type/${identifier}/`;\r\n\r\nconst getData = (param, toGet) => {\r\n    switch (toGet) {\r\n        case 'pokemon':\r\n            param = pokemonURL(param);\r\n            break;\r\n        case 'pokedex':\r\n            param = pokedexEntry(param);\r\n            break;\r\n        case 'type':\r\n            param = typeDesc(param);\r\n            break;\r\n        default:\r\n            return Promise.reject(\"Invalid request.\");\r\n            break;\r\n    }\r\n    let cacheKey = param\r\n    let cached = getFromCache(cacheKey)\r\n    if (cached) {\r\n        return Promise.resolve(cached)\r\n    }\r\n    return fetch(param).then(response => {\r\n        if (response.ok && response.status == 200) {\r\n            const contentType = response.headers.get('Content-Type') || '';\r\n            if (contentType.includes('application/json')) {\r\n                response.clone().text().then(content => {\r\n                    if(localStorage.setItem(cacheKey, content)){\r\n                        localStorage.clear();\r\n                        localStorage.setItem(cacheKey, content);\r\n                    }\r\n                })\r\n                return response.json().catch(error => {\r\n                    return Promise.reject('Invalid JSON: ' + error.message);\r\n                });\r\n            } else {\r\n                return Promise.reject('Invalid content type: ' + contentType)\r\n            }\r\n        } else if (response.status == 400) {\r\n            return Promise.reject('Page not found: ' + url);\r\n        } else {\r\n            return Promise.reject('HTTP error: ' + response.status);\r\n        }\r\n    }).catch(error => {\r\n        return Promise.reject('Connection error: ' + error.message);\r\n    });\r\n}\r\n\r\n// const returnPromises = object => {\r\n//     let length = object.length,\r\n//         array = [],\r\n//         promise = new Promise( (resolve, reject) => {\r\n//             object.forEach( index => {\r\n//                 index.then( value => {\r\n//                     array.push(value[0]);\r\n//                     if (array.length == length) {\r\n//                         resolve(array);\r\n//                     }\r\n//                 })\r\n//             })\r\n//     });\r\n//     return promise;\r\n// }\r\n\r\nconst drawPokemon = pokemonData => {\r\n    let promise = new Promise( (resolve, reject) => {\r\n\r\n        const {\r\n            species: { name: name },\r\n            id,\r\n            sprites: { front_default: image },\r\n            types,\r\n            stats,\r\n            abilities,\r\n            height,\r\n            weight\r\n        } = pokemonData;\r\n\r\n        // let lang_types = types.map( index => {\r\n        //    return getData(index.type.name, \"type\")\r\n        //         .then( type => {\r\n        //             return type.names.filter(value => {\r\n        //                 return value.language.name == \"es\"\r\n        //             })\r\n        //         })\r\n        // })\r\n\r\n        getData(name, 'pokedex')\r\n            .then(entry => {\r\n\r\n                const {\r\n                    habitat,\r\n                    egg_groups,\r\n                    flavor_text_entries,\r\n                } = entry;\r\n\r\n                let get_habitat = habitat == null ? 'none' : habitat.name;\r\n\r\n                let flavorText = false;\r\n                flavor_text_entries.map( index => {\r\n                    if (index.language.name == \"en\" && flavorText == false) {\r\n                        flavorText = index.flavor_text;\r\n                    }\r\n                });\r\n\r\n                const results = idSelector('results');\r\n                results.innerHTML = `\r\n                    <div class=\"row\">\r\n                        <div class=\"col-xs-8\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-4\">\r\n                                    <img class=\"img-responsive center-block\" src=\"${image}\" />\r\n                                </div>\r\n                                <div class=\"col-xs-8\">\r\n                                    <p><b>N° ${id} - ${capitalizeFirst(name)}</b></p>\r\n                                    <p><b>Type:</b><br> ${types.reverse().map( value => {\r\n                                        return capitalizeFirst(value.type.name);\r\n                                    }).toLocaleString().replace(',',' - ')}</p>\r\n                                    <p><b>Abilities:</b><br> ${abilities.reverse().map( value => {\r\n                                        return (value.is_hidden ? ` (HA) ` : '') + capitalizeFirst(value.ability.name);\r\n                                    }).toLocaleString().replace(',',' - ')}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-6\">\r\n                                    <p><b>Weight:</b><br> ${decimalFormat(weight)} kg</p>\r\n                                </div>\r\n                                <div class=\"col-xs-6\">\r\n                                    <p><b>Height:</b><br> ${decimalFormat(height)} m</p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-6\">\r\n                                    <p><b>Egg groups:</b><br> ${egg_groups.reverse().map( value => {\r\n                                        return lastIsNumber(capitalizeFirst(value.name));\r\n                                    }).toLocaleString().replace(',',' - ')}</p>\r\n                                </div>\r\n                                <div class=\"col-xs-6\">\r\n                                    <p><b>Habitat:</b><br> ${capitalizeFirst(get_habitat)}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row\">\r\n                                <div class=\"col-xs-12\">\r\n                                    <p>${flavorText}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-xs-4\">\r\n                            ${stats.reverse().map( value => {\r\n\r\n                                return `\r\n                                    <span class=\"tiny\">${value.stat.name.toUpperCase()} </span>\r\n                                    <div class=\"progress\">\r\n                                        <div class=\"progress-bar progress-bar-success\" role=\"progressbar\" aria-valuenow=\"80\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: ${roundStat(value.base_stat)}%\">\r\n                                            ${value.base_stat}\r\n                                        </div>\r\n                                    </div>`\r\n\r\n                            }).toLocaleString().replace(/(,)/g,'')}\r\n                        </div>\r\n                    </div>\r\n                `;\r\n                $('#main-results').modal('show');\r\n                resolve(true);\r\n            }).catch(error => {\r\n                reject(`${error} on \"${name} - Pokedex\"`)\r\n            })\r\n    })\r\n\r\n    return promise;\r\n}\r\n\r\nalphabet(idSelector(\"birth-first\"));\r\nalphabet(idSelector(\"birth-last\"));\r\n\r\nidSelector(\"main-form\").addEventListener(\"submit\", (event) => {\r\n    event.preventDefault();\r\n    let toSearch = idSelector(\"search-pkmn\");\r\n    let value = toSearch.value.toLowerCase();\r\n    if (value == 'deoxys') {\r\n        value = \"deoxys-normal\";\r\n    }\r\n    if (value == 'giratina') {\r\n        value = \"giratina-altered\";\r\n    }\r\n    if (value.length > 0) {\r\n        toSearch.style.background = '#FFF';\r\n        toggleSearchState(toSearch);\r\n        let lateAnswer = idSelector(\"late-answer\");\r\n        removeClass(lateAnswer, 'pending');\r\n\r\n        setTimeout( () => {\r\n            if (!lateAnswer.classList.contains('pending')) {\r\n                removeClass(lateAnswer, 'hidden');\r\n            }\r\n        }, 5000);\r\n\r\n        getData(value, 'pokemon').then( data => {\r\n\r\n            drawPokemon(data).then( () => {\r\n\r\n                toggleSearchState(toSearch);\r\n                addClass(lateAnswer, 'pending');\r\n                addClass(lateAnswer, 'hidden');\r\n\r\n            }).catch( error => {\r\n                toggleSearchState(toSearch);\r\n                alert(error)\r\n            });\r\n\r\n        }).catch( error => {\r\n            toggleSearchState(toSearch);\r\n            addClass(lateAnswer, 'pending');\r\n            addClass(lateAnswer, 'hidden');\r\n            alert(`${error} on \"${value} - Pokemon\"`);\r\n        })\r\n\r\n    } else {\r\n        toSearch.style.background = '#FFFFCC';\r\n        toSearch.focus();\r\n    }\r\n});\r\n\r\nidSelector(\"birth-form\").addEventListener(\"submit\", (event) => {\r\n    event.preventDefault();\r\n\r\n    let birth = idSelector(\"birth-pkmn\").value;\r\n    let birthFirst = idSelector(\"birth-first\").value;\r\n    let birthLast = idSelector(\"birth-last\").value;\r\n\r\n    birth = addBirth(birth);\r\n    let firstMultiplier = calculateMultiplier(birthFirst);\r\n    let secondMultiplier = calculateMultiplier(birthLast);\r\n    let multiplier = firstMultiplier + secondMultiplier;\r\n\r\n    let result = (birth * multiplier).toFixed(0);\r\n\r\n    if (result != 0) {\r\n\r\n        getData(result, 'pokemon').then( data => {\r\n\r\n            drawPokemon(data).then( () => {\r\n\r\n                display(\"done\");\r\n\r\n            }).catch( error => {\r\n                toggleSearchState(toSearch);\r\n                alert(error)\r\n            });\r\n\r\n        }).catch( error => {\r\n            alert(`${error} on \"${value} - Pokemon\"`);\r\n        })\r\n\r\n    } else {\r\n        alert(\"i think you are a digimon\");\r\n    }\r\n\r\n})\r\n\r\nfunction idSelector(id) {\r\n    return document.querySelector(`#${id}`);\r\n}\r\n\r\nfunction toggleSearchState(param){\r\n    let button = param.nextElementSibling;\r\n    if (param.disabled) {\r\n        addClass(button.querySelector('#loading'), 'hidden');\r\n        removeClass(button.querySelector('#go'), 'hidden')\r\n        param.disabled = false;\r\n        button.disabled = false;\r\n        param.value = '';\r\n    } else {\r\n        addClass(button.querySelector('#go'), 'hidden');\r\n        removeClass(button.querySelector('#loading'), 'hidden')\r\n        param.disabled = true;\r\n        button.disabled = true;\r\n    }\r\n}\r\n\r\nfunction addClass(param, css){\r\n    if (!param.classList.contains(css)) {\r\n        param.classList.add(css)\r\n    }\r\n}\r\n\r\nfunction removeClass(param, css){\r\n    if (param.classList.contains(css)) {\r\n        param.classList.remove(css)\r\n    }\r\n}\r\n\r\nfunction roundStat(num){\r\n    return Math.ceil((num * 100) / 190);\r\n}\r\n\r\nfunction capitalizeFirst(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\nfunction lastIsNumber(string){\r\n    return isNaN(string.slice(-1)) ? string : string.slice(0, string.length-1) + ' ' + string.slice(-1)\r\n}\r\n\r\nfunction decimalFormat(num) {\r\n    num = num.toString();\r\n    return num.length == 1 ?  \"0.\" + num : num.substring(0, num.length-1) + \".\" + num.substr(-1);\r\n}\r\n\r\nfunction addBirth(date){\r\n    date = new Date(date);\r\n    date.setDate(date.getDate() + 1)\r\n    var day = ('0' + date.getDate()).slice(-2);\r\n    var month = ('0' + (date.getMonth() + 1)).slice(-2)\r\n    var year = date.getYear().toString().slice(-2);\r\n    return parseInt(day) + parseInt(month) + parseInt(year);\r\n}\r\n\r\nfunction calculateMultiplier(num){\r\n    num = num.toString();\r\n    return num.length > 1 ? parseFloat(num.charAt(0) + '.' + num.charAt(1)) : parseFloat('0' + '.' + num.charAt(0))\r\n}\r\n\r\n// SIN USO\r\nfunction setInCache(id, data) {\r\n    localStorage.setItem(id, JSON.stringify(data));\r\n}\r\n\r\nfunction getFromCache(id) {\r\n    return localStorage.getItem(id) ? JSON.parse(localStorage.getItem(id)) : false;\r\n}\r\n\r\nfunction alphabet(selector){\r\n    for(var i=0; i<26; i++) {\r\n        let letter = (i+10).toString(36);\r\n        let option = document.createElement(\"option\");\r\n        option.appendChild(document.createTextNode(letter.toUpperCase()));\r\n        option.value = i+1;\r\n        selector.appendChild(option);\r\n    }\r\n}\r\n\r\nfunction display(param){\r\n    console.log(param);\r\n}\r\n\r\n$('.carousel').carousel({\r\n    interval: false\r\n});"]}