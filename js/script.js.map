{"version":3,"sources":["../src/js/script.js"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["const baseURL = 'https://pokeapi.co/api/v2/';\r\nconst pokemonURL = identifier => `${baseURL}pokemon/${identifier}/`;\r\n\r\nconst getData = (param, toGet) => {\r\n\r\n    switch (toGet) {\r\n        case 'pokemon':\r\n            param = pokemonURL(param);\r\n            break;\r\n        default:\r\n            // statements_def\r\n            break;\r\n    }\r\n\r\n    let cacheKey = param\r\n    let cached = getFromCache(cacheKey)\r\n    if (cached) {\r\n        return Promise.resolve(cached)\r\n    }\r\n\r\n    return fetch(param).then(response => {\r\n\r\n        if (response.ok && response.status == 200) {\r\n\r\n            const contentType = response.headers.get('Content-Type') || '';\r\n\r\n            if (contentType.includes('application/json')) {\r\n\r\n                response.clone().text().then(content => {\r\n                    sessionStorage.setItem(cacheKey, content)\r\n                })\r\n\r\n                return response.json().catch(error => {\r\n                    return Promise.reject('Invalid JSON: ' + error.message);\r\n                });\r\n\r\n            } else {\r\n                return Promise.reject('Invalid content type: ' + contentType)\r\n            }\r\n        } else if (response.status == 400) {\r\n            return Promise.reject('Page not found: ' + url);\r\n        } else {\r\n            return Promise.reject('HTTP error: ' + response.status);\r\n        }\r\n    }).catch(error => {\r\n        return Promise.reject(error.message);\r\n    });\r\n}\r\n\r\nconst drawPokemon = pokemonData => {\r\n    const {\r\n        name,\r\n        id,\r\n        sprites: { front_default: image },\r\n        types\r\n    } = pokemonData;\r\n\r\n    const results = idSelector('results');\r\n    results.innerHTML += `\r\n    <span class=\"col-xs-4\">\r\n      <p>NÂ° ${id}</p>\r\n      <p>${name}</p>\r\n      <p>${types.map( (index) => {\r\n        return index.type.name;\r\n      }).toLocaleString().replace(',',' - ')}</p>\r\n      <img src=\"${image}\" />\r\n    </span>\r\n  `;\r\n};\r\n\r\nidSelector(\"main-form\").addEventListener(\"submit\", (event) => {\r\n    event.preventDefault();\r\n    let toSearch = idSelector(\"search-pkmn\");\r\n    let panelResults = idSelector(\"panel-results\");\r\n    let value = toSearch.value.toLowerCase();\r\n    toSearch.disabled = true;\r\n    getData(value, 'pokemon')\r\n        .then(data => {\r\n            drawPokemon(data);\r\n            if (panelResults.classList.contains('hidden')) {\r\n                panelResults.classList.remove('hidden');\r\n            }\r\n            toSearch.value = '';\r\n            toSearch.disabled = false;\r\n        })\r\n});\r\n\r\nfunction idSelector(id) {\r\n    return document.querySelector(`#${id}`);\r\n}\r\n\r\n// SIN USO\r\nfunction setInCache(id, data) {\r\n    localStorage.setItem(id, JSON.stringify(data));\r\n}\r\n\r\nfunction getFromCache(id) {\r\n    return localStorage.getItem(id) ? JSON.parse(localStorage.getItem(id)) : false;\r\n}"]}