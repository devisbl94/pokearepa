{"version":3,"sources":["../src/js/script.js"],"names":[],"mappings":";;AAAA,IAAM,UAAU,4BAAhB;AACA,IAAM,aAAa,SAAb,UAAa;AAAA,SAAiB,OAAjB,gBAAmC,UAAnC;AAAA,CAAnB;;AAEA,IAAM,UAAU,SAAV,OAAU,CAAC,KAAD,EAAQ,KAAR,EAAkB;;AAEjC,UAAQ,KAAR;AACC,SAAK,SAAL;AACC,cAAQ,WAAW,KAAX,CAAR;AACA;AACD;AACC;AACA;AANF;;AASG,MAAI,WAAW,KAAf;AACA,MAAI,SAAS,aAAa,QAAb,CAAb;AACA,MAAI,MAAJ,EAAY;AACR,WAAO,QAAQ,OAAR,CAAgB,MAAhB,CAAP;AACH;;AAED,SAAO,MAAM,KAAN,EAAa,IAAb,CAAkB,oBAAY;;AAEjC,QAAI,SAAS,EAAT,IAAe,SAAS,MAAT,IAAmB,GAAtC,EAA2C;;AAEvC,UAAM,cAAc,SAAS,OAAT,CAAiB,GAAjB,CAAqB,cAArB,KAAwC,EAA5D;;AAEA,UAAI,YAAY,QAAZ,CAAqB,kBAArB,CAAJ,EAA8C;;AAEtD,iBAAS,KAAT,GAAiB,IAAjB,GAAwB,IAAxB,CAA6B,mBAAW;AACvC,yBAAe,OAAf,CAAuB,QAAvB,EAAiC,OAAjC;AACA,SAFD;;AAIY,eAAO,SAAS,IAAT,GAAgB,KAAhB,CAAsB,iBAAS;AAClC,iBAAO,QAAQ,MAAR,CAAe,mBAAmB,MAAM,OAAxC,CAAP;AACH,SAFM,CAAP;AAIH,OAVD,MAUO;AACN,eAAO,QAAQ,MAAR,CAAe,2BAA2B,WAA1C,CAAP;AACA;AACJ,KAjBD,MAiBO,IAAG,SAAS,MAAT,IAAmB,GAAtB,EAA2B;;AAEjC,aAAO,QAAQ,MAAR,CAAe,qBAAqB,GAApC,CAAP;AAEA,KAJM,MAIA;AACN,aAAO,QAAQ,MAAR,CAAe,iBAAiB,SAAS,MAAzC,CAAP;AACA;AAEJ,GA3BM,EA2BJ,KA3BI,CA2BE,iBAAS;AACd,WAAO,QAAQ,MAAR,CAAe,MAAM,OAArB,CAAP;AACH,GA7BM,CAAP;AA8BH,CA/CD;;AAiDA,IAAM,cAAc,SAAd,WAAc,cAAe;AAAA,MAE/B,IAF+B,GAM7B,WAN6B,CAE/B,IAF+B;AAAA,MAG/B,EAH+B,GAM7B,WAN6B,CAG/B,EAH+B;AAAA,MAIN,KAJM,GAM7B,WAN6B,CAI/B,OAJ+B,CAIrB,aAJqB;AAAA,MAK/B,KAL+B,GAM7B,WAN6B,CAK/B,KAL+B;;;AAQjC,MAAM,UAAU,WAAW,SAAX,CAAhB;AACA,UAAQ,SAAR,uDAEY,EAFZ,uBAGS,IAHT,uBAIS,MAAM,GAAN,CAAW,UAAC,KAAD,EAAW;AAC1B,WAAO,MAAM,IAAN,CAAW,IAAlB;AACA,GAFI,EAEF,cAFE,GAEe,OAFf,CAEuB,GAFvB,EAE2B,KAF3B,CAJT,8BAOgB,KAPhB;AAUD,CAnBD;;AAqBA,WAAW,WAAX,EAAwB,gBAAxB,CAA0C,QAA1C,EAAoD,UAAC,KAAD,EAAW;AAC9D,QAAM,cAAN;AACA,MAAI,WAAW,WAAW,aAAX,CAAf;AACA,MAAI,eAAe,WAAW,eAAX,CAAnB;AACA,MAAI,QAAQ,SAAS,KAAT,CAAe,WAAf,EAAZ;AACA,WAAS,QAAT,GAAoB,IAApB;AACA,UAAQ,KAAR,EAAe,SAAf,EACE,IADF,CACO,gBAAQ;AACb,gBAAY,IAAZ;AACA,QAAI,aAAa,SAAb,CAAuB,QAAvB,CAAgC,QAAhC,CAAJ,EAA+C;AAC9C,mBAAa,SAAb,CAAuB,MAAvB,CAA8B,QAA9B;AACA;AACD,aAAS,KAAT,GAAiB,EAAjB;AACA,aAAS,QAAT,GAAoB,KAApB;AACA,GARF;AASA,CAfD;;AAiBA,SAAS,UAAT,CAAoB,EAApB,EAAuB;AACtB,SAAO,SAAS,aAAT,OAA2B,EAA3B,CAAP;AACA;;AAED;AACA,SAAS,UAAT,CAAoB,EAApB,EAAwB,IAAxB,EAA6B;AAC5B,eAAa,OAAb,CAAqB,EAArB,EAAyB,KAAK,SAAL,CAAe,IAAf,CAAzB;AACA;;AAED,SAAS,YAAT,CAAsB,EAAtB,EAAyB;AACxB,SAAO,aAAa,OAAb,CAAqB,EAArB,IAA2B,KAAK,KAAL,CAAW,aAAa,OAAb,CAAqB,EAArB,CAAX,CAA3B,GAAkE,KAAzE;AACA","file":"script.js","sourcesContent":["const baseURL = 'https://pokeapi.co/api/v2/';\r\nconst pokemonURL = identifier => `${baseURL}pokemon/${identifier}/`;\r\n\r\nconst getData = (param, toGet) => {\r\n\r\n\tswitch (toGet) {\r\n\t\tcase 'pokemon':\r\n\t\t\tparam = pokemonURL(param);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\t// statements_def\r\n\t\t\tbreak;\r\n\t}\r\n\r\n    let cacheKey = param\r\n    let cached = getFromCache(cacheKey)\r\n    if (cached) {\r\n        return Promise.resolve(cached)\r\n    }\r\n\r\n    return fetch(param).then(response => {\r\n\r\n        if (response.ok && response.status == 200) {\r\n\r\n            const contentType = response.headers.get('Content-Type') || '';\r\n\r\n            if (contentType.includes('application/json')) {\r\n\r\n\t\t\t\tresponse.clone().text().then(content => {\r\n\t\t\t\t\tsessionStorage.setItem(cacheKey, content)\r\n\t\t\t\t})\r\n\r\n                return response.json().catch(error => {\r\n                    return Promise.reject('Invalid JSON: ' + error.message);\r\n                });\r\n\r\n            } else {\r\n            \treturn Promise.reject('Invalid content type: ' + contentType)\r\n            }\r\n        } else if(response.status == 400) {\r\n\r\n        \treturn Promise.reject('Page not found: ' + url);\r\n\r\n        } else {\r\n        \treturn Promise.reject('HTTP error: ' + response.status);\r\n        }\r\n\r\n    }).catch(error => {\r\n        return Promise.reject(error.message);\r\n    });\r\n}\r\n\r\nconst drawPokemon = pokemonData => {\r\n  const{\r\n    name,\r\n    id,\r\n    sprites: {front_default: image},\r\n    types\r\n  } = pokemonData;\r\n\r\n  const results = idSelector('results');\r\n  results.innerHTML += `\r\n    <span class=\"col-xs-4\">\r\n      <p>NÂ° ${id}</p>\r\n      <p>${name}</p>\r\n      <p>${types.map( (index) => {\r\n      \treturn index.type.name;\r\n      }).toLocaleString().replace(',',' - ')}</p>\r\n      <img src=\"${image}\" />\r\n    </span>\r\n  `;\r\n};\r\n\r\nidSelector(\"main-form\").addEventListener( \"submit\", (event) => {\r\n\tevent.preventDefault();\r\n\tlet toSearch = idSelector(\"search-pkmn\");\r\n\tlet panelResults = idSelector(\"panel-results\");\r\n\tlet value = toSearch.value.toLowerCase();\r\n\ttoSearch.disabled = true;\r\n\tgetData(value, 'pokemon')\r\n\t\t.then(data => {\r\n\t\t\tdrawPokemon(data);\r\n\t\t\tif (panelResults.classList.contains('hidden')) {\r\n\t\t\t\tpanelResults.classList.remove('hidden');\r\n\t\t\t}\r\n\t\t\ttoSearch.value = '';\r\n\t\t\ttoSearch.disabled = false;\r\n\t\t})\r\n});\r\n\r\nfunction idSelector(id){\r\n\treturn document.querySelector(`#${id}`);\r\n}\r\n\r\n// SIN USO\r\nfunction setInCache(id, data){\r\n\tlocalStorage.setItem(id, JSON.stringify(data));\r\n}\r\n\r\nfunction getFromCache(id){\r\n\treturn localStorage.getItem(id) ? JSON.parse(localStorage.getItem(id)) : false;\r\n}"]}